{% extends "layout.html" %}

{% block content %}

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{category}}">
          {{message}}
      </div>
      {% endfor %}
     {% endif %}
    {% endwith %}  
 
  <div class="container">
      <div class="row">
          <div class="col-md-8">
              <div class="card p-3">
                  <div class="card-title">
                      <h3>Login</h3>
                      <hr>
                  </div>
              <div class="card-body">    
              <form action="#" method="POST">
                  {{ form.hidden_tag()}}
                  <div class="form-group">
                    {{ form.email.label(class="form-control-label") }}

                    {% if form.email.errors %}
                       {{ form.email(class="form-control form-control-lg is-invalid")}}
                       <div class="invalid-feedback">
                           {% for error in form.email.errors %}
                            <span> {{error}}</span>
                            {% endfor %}
                        </div>  
                    {% else %}
                       {{ form.email(class="form-control form-control-lg")}}
                    {% endif %}
                  </div>
                  <div class="form-group">
                        {{ form.password.label(class="form-control-label") }}
                        {% if form.password.errors %}
                           {{ form.password(class="form-control form-control-lg is-invalid")}}
                           <div class="invalid-feedback">
                               {% for error in form.password.errors %}
                                <span> {{error}}</span>
                                {% endfor %}
                            </div>  
                        {% else %}
                        {{ form.password(class="form-control")}}
                        {% endif %}
                </div>
                <div class="form-group">
                {{ form.submit(class="btn btn-outline-success")}}
                </div>
              </form>
              </div>
            </div>  
          </div>
      </div>
  </div>
{% endblock content %}